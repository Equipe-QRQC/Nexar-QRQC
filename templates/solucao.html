{% extends 'menu.html' %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Solução{% endblock %}</title>
  
  <link rel="stylesheet" href="/static/css/telainicial.css" />

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
  />

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

  <div class="content" id="content">
  <div class="header ">Resposta de Ocorrência</div>

  <div class="container my-4 px-3 px-md-5">
    
    <!-- Dados da Ocorrência -->
    <div class="row g-4">
      <div class="col-md-6">
        <h5 class="mb-3 text-primary">📄 Dados da Ocorrência</h5>
        <ul class="list-unstyled lh-lg">
          <li><strong>Operador:</strong> {{ dados.nome_operador }}</li>
          <li><strong>Data:</strong> {{ dados.data_ocorrencia }}</li>
          <li><strong>Setor/Área:</strong> {{ dados.setor_area }}</li>
          <li><strong>Tipo de Ocorrência:</strong> {{ dados.tipo_ocorrencia }}</li>
          <li><strong>Nível de Impacto:</strong> {{ dados.nivel_impacto }}</li>
          <li><strong>Problema Recorrente:</strong> {{ dados.problema_recorrente }}</li>
          <li><strong>Detalhamento Técnico:</strong> {{ dados.detalhamento_tecnico }}</li>
        </ul>
      </div>

      <div class="col-md-6">
        <h5 class="mb-3 text-warning">🛠️ Descrição do Problema</h5>
        <div class="bg-light border rounded p-3 h-100">
          {{ dados.descricao }}
        </div>
      </div>
    </div>

    <hr class="my-5" />

    <!-- Solução sugerida -->
    <div class="mb-4">
      <h5 class="text-success">✅ Solução Sugerida:</h5>
      <div class="bg-success bg-opacity-10 border-start border-success ps-3 py-3 rounded fs-5">
        {{ resposta_ia }}
      </div>
    </div>

    <!-- Imagem gerada pela IA -->
    {% if imagem_gerada %}
    <div class="text-center my-5">
      <h5 class="mb-3">🖼️ Imagem Gerada pela IA:</h5>
      <img src="{{ imagem_gerada }}" alt="Imagem gerada pela IA" class="img-fluid rounded shadow" style="max-width: 512px;">
    </div>
    {% endif %}

    <!-- Botão para nova ocorrência -->
    <div class="text-center mt-5">
      <a href="{{ url_for('CadastroOcorrencia') }}" class="btn btn-primary btn-lg px-5 rounded-pill shadow-sm">
        <i class="fas fa-plus-circle me-2"></i>Registrar nova ocorrência
      </a>
    </div>

  </div>
</div>
  <script src="/static/js/telainicial.js"></script>
</body>
</html>
{% endblock %}
